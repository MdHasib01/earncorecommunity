exports.id=175,exports.ids=[175],exports.modules={4035:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>g});var s=r(60687),o=r(43210),a=r(54864),i=r(76067),n=r(38168),d=r(42354),l=r(65748),u=r(60780),p=r(50926),m=r(84348),c=r(74438),y=r(7286),h=r(92118);let f=(0,i.U1)({reducer:{auth:m.Ay,lms:n.Ay,likes:u.Ay,[d.Bm.reducerPath]:d.Bm.reducer,[l.z6.reducerPath]:l.z6.reducer,[y.g.reducerPath]:y.g.reducer,[p.Wf.reducerPath]:p.Wf.reducer,[c.ZQ.reducerPath]:c.ZQ.reducer,[h.vx.reducerPath]:h.vx.reducer},middleware:e=>e().concat(d.Bm.middleware,l.z6.middleware,y.g.middleware,p.Wf.middleware,c.ZQ.middleware,h.vx.middleware)});function g({children:e}){return(0,s.jsxs)(a.Kq,{store:f,children:[(0,s.jsx)(T,{}),(0,s.jsx)(P,{}),e]})}function T(){return(0,c.go)(void 0,{skip:!0}),null}function P(){(0,a.wA)(),(0,a.d4)(e=>e.auth.isAuthenticated),(0,a.d4)(e=>e.likes.isInitialized),(0,a.d4)(e=>Object.keys(e.likes.likedPostIds).length);let[e,{reset:t}]=(0,l.hr)();return(0,o.useRef)(!1),null}},5735:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},7148:(e,t,r)=>{"use strict";r.d(t,{Ri:()=>s,TV:()=>o,Yj:()=>a});let s=e=>{if("undefined"==typeof document)return null;let t=`; ${document.cookie}`.split(`; ${e}=`);return 2===t.length&&t.pop()?.split(";").shift()||null},o=(e,t,r=7)=>{if("undefined"==typeof document)return;let s=new Date;s.setTime(s.getTime()+24*r*36e5),document.cookie=`${e}=${t};expires=${s.toUTCString()};path=/;secure;samesite=strict`},a=e=>{"undefined"!=typeof document&&(document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;secure;samesite=strict`)}},7286:(e,t,r)=>{"use strict";r.d(t,{V:()=>i,g:()=>a});var s=r(20340),o=r(25698);let a=(0,s.xP)({reducerPath:"profileApi",baseQuery:(0,o.cw)({baseUrl:"http://localhost:8082/api/v1/",credentials:"include",prepareHeaders:e=>(e.set("content-type","application/json"),e)}),tagTypes:["Profile"],endpoints:e=>({getMyProfile:e.query({query:()=>"users/my-profile",transformResponse:e=>e.data})})}),{useGetMyProfileQuery:i}=a},18291:(e,t,r)=>{Promise.resolve().then(r.bind(r,6931)),Promise.resolve().then(r.bind(r,21664)),Promise.resolve().then(r.bind(r,29519)),Promise.resolve().then(r.bind(r,83701))},21664:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"G:\\\\shishir vai\\\\EarnCoreCommunity\\\\client\\\\src\\\\app\\\\authProvider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"G:\\shishir vai\\EarnCoreCommunity\\client\\src\\app\\authProvider.tsx","default")},29519:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"G:\\shishir vai\\EarnCoreCommunity\\client\\src\\app\\providers.tsx","Providers")},35999:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},38168:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,DW:()=>i,Nh:()=>l,WZ:()=>o,cv:()=>a,r1:()=>d,uh:()=>n});let s=(0,r(76067).Z0)({name:"lms",initialState:{currentCourse:null,currentLesson:null,currentModule:null,isLoading:!1,error:null},reducers:{setCourse:(e,t)=>{if(e.currentCourse=t.payload,!e.currentLesson){let r=t.payload.modules.flatMap(e=>e.lessons).find(e=>!e.isCompleted);r&&(e.currentLesson=r,e.currentModule=t.payload.modules.find(e=>e.lessons.some(e=>e.id===r.id))||null)}},setCurrentLesson:(e,t)=>{e.currentLesson=t.payload.lesson,e.currentModule=t.payload.module},updateProgress:(e,t)=>{if(!e.currentCourse)return;let{moduleId:r,lessonId:s,isCompleted:o}=t.payload,a=e.currentCourse.modules.find(e=>e.id===r);if(a){let t=a.lessons.find(e=>e.id===s);if(t){t.isCompleted=o,a.isCompleted=a.lessons.every(e=>e.isCompleted);let r=e.currentCourse.modules.flatMap(e=>e.lessons).length,s=e.currentCourse.modules.flatMap(e=>e.lessons).filter(e=>e.isCompleted).length;e.currentCourse.currentProgress=Math.round(s/r*100),e.currentCourse.completedLessons=s,e.currentCourse.totalLessons=r}}},toggleModuleExpansion:(e,t)=>{if(!e.currentCourse)return;let r=e.currentCourse.modules.find(e=>e.id===t.payload);r&&(r.isExpanded=!r.isExpanded)},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload}}}),{setCourse:o,setCurrentLesson:a,updateProgress:i,toggleModuleExpansion:n,setLoading:d,setError:l}=s.actions,u=s.reducer},42354:(e,t,r)=>{"use strict";r.d(t,{AA:()=>p,BD:()=>d,Bm:()=>n,C7:()=>g,Du:()=>y,M2:()=>l,OZ:()=>P,Qs:()=>h,TI:()=>u,V9:()=>f,VD:()=>m,VT:()=>k,cb:()=>T,eX:()=>b,kI:()=>C,rC:()=>v,v5:()=>c,zp:()=>q});var s=r(20340),o=r(25698),a=r(7148);let i=e=>{let t=e?.data;return t&&"object"==typeof t&&"data"in t?t.data:t},n=(0,s.xP)({reducerPath:"lmsApi",baseQuery:(0,o.cw)({baseUrl:"http://localhost:8082/api/v1/",credentials:"include",prepareHeaders:e=>{e.set("content-type","application/json");let t=(0,a.Ri)("accessToken");return t&&e.set("Authorization",`Bearer ${t}`),e},paramsSerializer:e=>{let t=new URLSearchParams;return Object.entries(e).forEach(([e,r])=>{null!=r&&t.append(e,String(r))}),t.toString()}}),tagTypes:["Course","Courses","Module","Modules","Content","Contents"],endpoints:e=>({getCourse:e.query({queryFn:async(e,t,r,s)=>{let o=await s({url:`courses/${e}`,method:"GET"});if(o.error)return{error:o.error};let a=i(o),n=await s({url:"modules",method:"GET",params:{course:e}});if(n.error)return{error:n.error};let d=i(n)??[],l=await Promise.all(d.map(async(e,t)=>{let r=await s({url:"contents",method:"GET",params:{module:e._id}});if(r.error)return{id:e._id,title:e.title,description:e.description,isCompleted:!1,isExpanded:0===t,totalDuration:0,lessons:[]};let o=(i(r)??[]).map(e=>({id:e._id,title:e.title,description:e.description,videoUrl:e.youtubeVideoLink,duration:e.duration,thumbnail:e.thumbnail,isCompleted:!1})),a=o.reduce((e,t)=>e+(t.duration||0),0);return{id:e._id,title:e.title,description:e.description,isCompleted:!1,isExpanded:0===t,totalDuration:a,lessons:o}})),u=a.lessonsCount??l.flatMap(e=>e.lessons).length;return{data:{id:a._id,title:a.title,description:a.description,modules:l,currentProgress:0,totalLessons:u,completedLessons:0,totalDuration:a.totalDuration}}},providesTags:(e,t,r)=>[{type:"Course",id:r}]}),getCourses:e.query({query:()=>({url:"courses",method:"GET"}),transformResponse:e=>e?.data??[],providesTags:e=>e?[...e.map(e=>({type:"Course",id:e._id})),{type:"Courses",id:"LIST"}]:[{type:"Courses",id:"LIST"}]}),getCourseDetails:e.query({query:e=>({url:`courses/${e}`,method:"GET"}),transformResponse:e=>e.data,providesTags:(e,t,r)=>[{type:"Course",id:r}]}),createCourse:e.mutation({query:e=>({url:"courses",method:"POST",body:e}),transformResponse:e=>e.data,invalidatesTags:[{type:"Courses",id:"LIST"}]}),updateCourse:e.mutation({query:({id:e,...t})=>({url:`courses/${e}`,method:"PUT",body:t}),transformResponse:e=>e.data,invalidatesTags:(e,t,{id:r})=>[{type:"Course",id:r},{type:"Courses",id:"LIST"}]}),deleteCourse:e.mutation({query:e=>({url:`courses/${e}`,method:"DELETE"}),transformResponse:e=>e.data,invalidatesTags:(e,t,r)=>[{type:"Course",id:r},{type:"Courses",id:"LIST"}]}),getModules:e.query({query:e=>({url:"modules",method:"GET",params:e&&"course"in e?{course:e.course}:void 0}),transformResponse:e=>e?.data??[],providesTags:e=>e?[...e.map(e=>({type:"Module",id:e._id})),{type:"Modules",id:"LIST"}]:[{type:"Modules",id:"LIST"}]}),getModuleDetails:e.query({query:e=>({url:`modules/${e}`,method:"GET"}),transformResponse:e=>e.data,providesTags:(e,t,r)=>[{type:"Module",id:r}]}),createModule:e.mutation({query:({courseId:e,...t})=>({url:"modules",method:"POST",body:{...t,courseId:e}}),transformResponse:e=>e.data,invalidatesTags:[{type:"Modules",id:"LIST"}]}),updateModule:e.mutation({query:({id:e,...t})=>({url:`modules/${e}`,method:"PUT",body:t}),transformResponse:e=>e.data,invalidatesTags:(e,t,{id:r})=>[{type:"Module",id:r},{type:"Modules",id:"LIST"}]}),deleteModule:e.mutation({query:e=>({url:`modules/${e}`,method:"DELETE"}),transformResponse:e=>e.data,invalidatesTags:(e,t,r)=>[{type:"Module",id:r},{type:"Modules",id:"LIST"}]}),getContents:e.query({query:e=>({url:"contents",method:"GET",params:e&&"module"in e?{module:e.module}:void 0}),transformResponse:e=>e?.data??[],providesTags:e=>e?[...e.map(e=>({type:"Content",id:e._id})),{type:"Contents",id:"LIST"}]:[{type:"Contents",id:"LIST"}]}),getContentDetails:e.query({query:e=>({url:`contents/${e}`,method:"GET"}),transformResponse:e=>e.data,providesTags:(e,t,r)=>[{type:"Content",id:r}]}),createContent:e.mutation({query:({moduleId:e,...t})=>({url:"contents",method:"POST",body:{...t,moduleId:e}}),transformResponse:e=>e.data,invalidatesTags:[{type:"Contents",id:"LIST"}]}),updateContent:e.mutation({query:({id:e,...t})=>({url:`contents/${e}`,method:"PUT",body:t}),transformResponse:e=>e.data,invalidatesTags:(e,t,{id:r})=>[{type:"Content",id:r},{type:"Contents",id:"LIST"}]}),deleteContent:e.mutation({query:e=>({url:`contents/${e}`,method:"DELETE"}),transformResponse:e=>e.data,invalidatesTags:(e,t,r)=>[{type:"Content",id:r},{type:"Contents",id:"LIST"}]}),markWatched:e.mutation({query:e=>({url:"watched",method:"POST",body:e}),transformResponse:()=>void 0,invalidatesTags:(e,t,r)=>[{type:"Content",id:r.courseContentId}]})})}),{useGetCourseQuery:d,useGetCoursesQuery:l,useGetCourseDetailsQuery:u,useCreateCourseMutation:p,useUpdateCourseMutation:m,useDeleteCourseMutation:c,useGetModulesQuery:y,useGetModuleDetailsQuery:h,useCreateModuleMutation:f,useUpdateModuleMutation:g,useDeleteModuleMutation:T,useGetContentsQuery:P,useGetContentDetailsQuery:v,useCreateContentMutation:C,useUpdateContentMutation:q,useDeleteContentMutation:k,useMarkWatchedMutation:b}=n},44510:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var s=r(60687),o=r(43210),a=r(54864),i=r(16189),n=r(74438);r(84348);var d=r(7148);let l=new Set(["/login","/signup"]);function u({children:e}){(0,a.wA)();let[t,r]=(0,o.useState)(!1),u=(0,i.usePathname)(),p=(0,o.useMemo)(()=>!!(0,d.Ri)("accessToken"),[t,u]),m=!t||l.has(u)&&!p,{data:c,isLoading:y,isFetching:h,isError:f}=(0,n.go)(void 0,{refetchOnMountOrArgChange:!0,skip:m});return t?!m&&(y||h)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):(0,s.jsx)(s.Fragment,{children:e}):null}},50926:(e,t,r)=>{"use strict";r.d(t,{U1:()=>i,Wf:()=>a,lY:()=>n});var s=r(20340),o=r(25698);let a=(0,s.xP)({reducerPath:"communityApi",baseQuery:(0,o.cw)({baseUrl:"http://localhost:8082/api/v1/"}),endpoints:e=>({getAllCommunities:e.query({query:()=>"community",transformResponse:e=>e.data}),getCommunityBySlug:e.query({query:e=>`community/${e}`,transformResponse:e=>e.data})})}),{useGetAllCommunitiesQuery:i,useGetCommunityBySlugQuery:n}=a},55243:(e,t,r)=>{Promise.resolve().then(r.bind(r,52581)),Promise.resolve().then(r.bind(r,44510)),Promise.resolve().then(r.bind(r,4035)),Promise.resolve().then(r.bind(r,96871))},60780:(e,t,r)=>{"use strict";r.d(t,{$m:()=>o,Ay:()=>n,BO:()=>a,bL:()=>i});let s=(0,r(76067).Z0)({name:"likes",initialState:{likedPostIds:{},likedPosts:[],isInitialized:!1},reducers:{setLikedPosts(e,t){let r=t.payload??[];for(let t of(e.likedPosts=r,e.likedPostIds={},r)){let r=t?.post?._id;r&&(e.likedPostIds[r]=!0)}e.isInitialized=!0},upsertLikedPost(e,t){let{postId:r,liked:s,post:o}=t.payload;if(s){if(e.likedPostIds[r]=!0,o){let t=e.likedPosts.findIndex(e=>e?.post?._id===r);-1===t?e.likedPosts.unshift({_id:`local-${r}`,likedBy:"",post:o}):e.likedPosts[t]={...e.likedPosts[t],post:o}}}else delete e.likedPostIds[r],e.likedPosts=e.likedPosts.filter(e=>e?.post?._id!==r)},resetLikesState(e){e.likedPostIds={},e.likedPosts=[],e.isInitialized=!1}}}),{setLikedPosts:o,upsertLikedPost:a,resetLikesState:i}=s.actions,n=s.reducer},61135:()=>{},65748:(e,t,r)=>{"use strict";r.d(t,{$V:()=>c,M7:()=>u,Me:()=>q,N0:()=>l,Qy:()=>I,Tl:()=>f,WS:()=>d,aC:()=>i,bL:()=>y,cX:()=>p,d2:()=>x,hr:()=>g,nm:()=>T,o6:()=>E,qx:()=>m,rV:()=>L,t0:()=>A,ye:()=>P,yv:()=>n,z2:()=>R,z6:()=>a});var s=r(20340),o=r(25698);let a=(0,s.xP)({reducerPath:"feedApi",baseQuery:(0,o.cw)({baseUrl:"http://localhost:8082/api/v1/",credentials:"include",prepareHeaders:e=>(e.set("content-type","application/json"),e),paramsSerializer:e=>{let t=new URLSearchParams;return Object.entries(e).forEach(([e,r])=>{null!=r&&t.append(e,String(r))}),t.toString()}}),tagTypes:["Post","Comment","User","Bookmark","Like","Follow"],endpoints:e=>({getFeed:e.query({query:({cursor:e="1",limit:t=10,community:r,platform:s,sortBy:o,sortType:a,search:i,minQualityScore:n,authentic:d})=>({url:"posts",params:{page:e,limit:t,...r&&{community:r},...s&&{platform:s},...o&&{sort:`${o}:${a||"desc"}`},...i&&{search:i},..."number"==typeof n&&{"filters[qualityScore][$gte]":n},...void 0!==d&&{"filters[authentic][$eq]":d}}}),transformResponse:e=>e?.data?e.data:e,providesTags:e=>["Post",...(e?.docs||[]).map(({_id:e})=>({type:"Post",id:e}))]}),getPostById:e.query({query:e=>`posts/${e}`,transformResponse:e=>e.data,providesTags:(e,t,r)=>[{type:"Post",id:r}]}),getPostComments:e.query({query:({postId:e,page:t=1,limit:r=10,sortBy:s="createdAt",sortType:o="desc"})=>({url:`comments/post/${e}`,params:{"pagination[page]":t,"pagination[limit]":r,...s&&{"sort[field]":s},...o&&{"sort[order]":o}}}),transformResponse:e=>e.data??e,providesTags:(e,t,{postId:r})=>[{type:"Comment",id:`POST_${r}`},...(e?.docs||[]).map(({_id:e})=>({type:"Comment",id:e}))]}),getCommentReplies:e.query({query:({commentId:e,page:t=1,limit:r=10})=>({url:`comments/${e}/replies`,params:{"pagination[page]":t,"pagination[limit]":r}}),transformResponse:e=>e.data??e,providesTags:(e,t,{commentId:r})=>[{type:"Comment",id:`REPLIES_${r}`},...(e?.docs||[]).map(({_id:e})=>({type:"Comment",id:e}))]}),getUserProfile:e.query({query:e=>`users/c/${e}`,transformResponse:e=>e.data,providesTags:(e,t,r)=>[{type:"User",id:r}]}),getUserProfileById:e.query({query:e=>`users/p/${e}`,transformResponse:e=>e.data,providesTags:(e,t,r)=>[{type:"User",id:r}]}),togglePostLike:e.mutation({query:e=>({url:`likes/post/${e}`,method:"POST"}),transformResponse:e=>e.data,invalidatesTags:(e,t,r)=>[{type:"Post",id:r},{type:"Like",id:`POST_${r}`},"Like"]}),getRealPosts:e.query({query:()=>({url:"posts/real",method:"GET"}),transformResponse:e=>{if(Array.isArray(e))return e;let t=e?.data??e;return Array.isArray(t)?t:Array.isArray(t?.docs)?t.docs:[]},providesTags:e=>e?[...e.map(e=>({type:"Post",id:e._id})),{type:"Post",id:"REAL_LIST"}]:[{type:"Post",id:"REAL_LIST"}]}),toggleCommentLike:e.mutation({query:e=>({url:`comments/${e}/like`,method:"POST"}),transformResponse:e=>e.data,invalidatesTags:(e,t,r)=>[{type:"Comment",id:r},{type:"Like",id:`COMMENT_${r}`}]}),getPostLikes:e.query({query:({postId:e,page:t=1,limit:r=20})=>({url:`likes/post/${e}/users`,params:{"pagination[page]":t,"pagination[limit]":r}}),transformResponse:e=>e.data??e,providesTags:(e,t,{postId:r})=>[{type:"Like",id:`POST_${r}`}]}),getUserLikedPosts:e.query({query:({page:e=1,limit:t=10})=>({url:"likes/user/posts",params:{"pagination[page]":e,"pagination[limit]":t}}),transformResponse:e=>{let t=e?.data??e;return t?.docs??t},providesTags:["Like"]}),toggleBookmark:e.mutation({query:({postId:e,collection:t="default"})=>({url:`bookmarks/post/${e}`,method:"POST",body:{collection:t}}),transformResponse:e=>e.data,invalidatesTags:(e,t,{postId:r})=>[{type:"Post",id:r},{type:"Bookmark",id:`POST_${r}`},"Bookmark"]}),getUserBookmarks:e.query({query:({page:e=1,limit:t=10,collection:r})=>({url:"bookmarks",params:{"pagination[page]":e,"pagination[limit]":t,...r&&{"filters[collection]":r}}}),transformResponse:e=>e?.data??e,providesTags:["Bookmark"]}),getBookmarkCollections:e.query({query:()=>"bookmarks/collections",transformResponse:e=>e.data,providesTags:["Bookmark"]}),checkBookmarkStatus:e.query({query:e=>`bookmarks/post/${e}/status`,transformResponse:e=>e.data,providesTags:(e,t,r)=>[{type:"Bookmark",id:`POST_${r}`}]}),toggleFollow:e.mutation({query:e=>({url:`follows/user/${e}`,method:"POST"}),transformResponse:e=>e.data,invalidatesTags:(e,t,r)=>[{type:"User",id:r},{type:"Follow",id:`USER_${r}`},"Follow"]}),getUserFollowers:e.query({query:({userId:e,page:t=1,limit:r=20})=>({url:`follows/user/${e}/followers`,params:{page:t,limit:r}}),transformResponse:e=>e.data,providesTags:(e,t,{userId:r})=>[{type:"Follow",id:`FOLLOWERS_${r}`}]}),getUserFollowing:e.query({query:({userId:e,page:t=1,limit:r=20})=>({url:`follows/user/${e}/following`,params:{page:t,limit:r}}),transformResponse:e=>e.data,providesTags:(e,t,{userId:r})=>[{type:"Follow",id:`FOLLOWING_${r}`}]}),getFollowStats:e.query({query:e=>`follows/user/${e}/stats`,transformResponse:e=>e.data,providesTags:(e,t,r)=>[{type:"Follow",id:`STATS_${r}`}]}),checkFollowStatus:e.query({query:e=>`follows/user/${e}/status`,transformResponse:e=>e.data,providesTags:(e,t,r)=>[{type:"Follow",id:`STATUS_${r}`}]}),addComment:e.mutation({query:({content:e,postId:t,parentCommentId:r})=>({url:"comments",method:"POST",body:{content:e,postId:t,parentCommentId:r}}),transformResponse:e=>e.data,invalidatesTags:(e,t,{postId:r,parentCommentId:s})=>[{type:"Comment",id:`POST_${r}`},{type:"Post",id:r},...s?[{type:"Comment",id:`REPLIES_${s}`}]:[]]}),updateComment:e.mutation({query:({commentId:e,content:t})=>({url:`comments/${e}`,method:"PATCH",body:{content:t}}),transformResponse:e=>e.data,invalidatesTags:(e,t,{commentId:r})=>[{type:"Comment",id:r}]}),deleteComment:e.mutation({query:e=>({url:`comments/${e}`,method:"DELETE"}),invalidatesTags:(e,t,r)=>[{type:"Comment",id:r},"Comment","Post"]}),getUserPosts:e.query({query:({userId:e,page:t=1,limit:r=10})=>({url:`posts/user/${e}`,params:{"pagination[page]":t,"pagination[limit]":r,"filters[userId]":e}}),transformResponse:e=>e.data??e,providesTags:(e,t,{userId:r})=>[{type:"Post",id:`USER_${r}`},...(e?.docs||[]).map(({_id:e})=>({type:"Post",id:e}))]}),createPost:e.mutation({query:({title:e,content:t,communityId:r})=>({url:"posts",method:"POST",body:{title:e,content:t,community:r}}),transformResponse:e=>e.data??e,invalidatesTags:["Post"]}),deletePost:e.mutation({query:e=>({url:`posts/${e}`,method:"DELETE"}),invalidatesTags:(e,t,r)=>[{type:"Post",id:r},"Post"]}),updateProfile:e.mutation({query:e=>({url:"users/profile",method:"PATCH",body:e}),transformResponse:e=>e.data,invalidatesTags:["User"]})})}),{useGetFeedQuery:i,useGetPostByIdQuery:n,useGetPostCommentsQuery:d,useGetCommentRepliesQuery:l,useGetUserProfileQuery:u,useGetUserProfileByIdQuery:p,useTogglePostLikeMutation:m,useGetRealPostsQuery:c,useToggleCommentLikeMutation:y,useGetPostLikesQuery:h,useGetUserLikedPostsQuery:f,useLazyGetUserLikedPostsQuery:g,useToggleBookmarkMutation:T,useGetUserBookmarksQuery:P,useGetBookmarkCollectionsQuery:v,useCheckBookmarkStatusQuery:C,useToggleFollowMutation:q,useGetUserFollowersQuery:k,useGetUserFollowingQuery:b,useGetFollowStatsQuery:S,useCheckFollowStatusQuery:L,useAddCommentMutation:R,useUpdateCommentMutation:w,useDeleteCommentMutation:$,useGetUserPostsQuery:E,useCreatePostMutation:A,useDeletePostMutation:I,useUpdateProfileMutation:x}=a},74438:(e,t,r)=>{"use strict";r.d(t,{Ng:()=>p,ZQ:()=>d,_L:()=>l,go:()=>m,x8:()=>g});var s=r(25698),o=r(20340),a=r(84348);let i=(0,s.cw)({baseUrl:"http://localhost:8082/api/v1/",credentials:"include",prepareHeaders:e=>(e.set("content-type","application/json"),e)}),n=async(e,t,r)=>{let s=await i(e,t,r);if(s?.error?.status===401){let o=await i({url:"/users/refresh",method:"POST"},t,r);if(o?.data){let{user:n}=o.data;t.dispatch((0,a.LA)({user:n})),s=await i(e,t,r)}else t.dispatch((0,a.ri)())}return s},d=(0,o.xP)({reducerPath:"authApi",baseQuery:n,tagTypes:["User"],endpoints:e=>({login:e.mutation({query:e=>({url:"/users/login",method:"POST",body:e}),transformResponse:e=>{let{user:t}=e.data;return{user:t}},onQueryStarted:async(e,{dispatch:t,queryFulfilled:r})=>{try{let{data:e}=await r;t((0,a.LA)(e))}catch(e){t((0,a.Nh)(e.error?.data?.message||"Login failed"))}}}),verifyOtp:e.mutation({query:e=>({url:"/users/verify-otp",method:"POST",body:e}),onQueryStarted:async(e,{dispatch:t,queryFulfilled:r})=>{try{let{data:e}=await r;t((0,a.LA)(e))}catch(e){t((0,a.Nh)(e.error?.data?.message||"Verification failed"))}}}),register:e.mutation({query:e=>({url:"/register",method:"POST",body:e}),transformResponse:e=>{let{user:t}=e;return{user:t}},onQueryStarted:async(e,{dispatch:t,queryFulfilled:r})=>{try{let{data:e}=await r;t((0,a.LA)(e))}catch(e){t((0,a.Nh)(e.error?.data?.message||"Registration failed"))}}}),logout:e.mutation({query:()=>({url:"users/logout",method:"POST"}),onQueryStarted:async(e,{dispatch:t,queryFulfilled:r})=>{try{await r}catch(e){console.error("Logout error:",e)}finally{t((0,a.ri)())}}}),getCurrentUser:e.query({query:()=>({url:"users/checkUser",method:"GET"}),providesTags:["User"],transformResponse:e=>e.user,onQueryStarted:async(e,{dispatch:t,queryFulfilled:r})=>{try{let{data:e}=await r;t((0,a.LA)({user:e}))}catch(e){e.error?.status===401&&t((0,a.ri)())}}}),refreshToken:e.mutation({query:()=>({url:"/users/refresh",method:"POST"}),transformResponse:e=>{let{user:t}=e;return{user:t}},onQueryStarted:async(e,{dispatch:t,queryFulfilled:r})=>{try{let{data:e}=await r;t((0,a.LA)(e))}catch{t((0,a.ri)())}}}),changePassword:e.mutation({query:e=>({url:"/change-password",method:"PUT",body:e})}),forgotPassword:e.mutation({query:({email:e})=>({url:"/forgot-password",method:"POST",body:{email:e}})}),resetPassword:e.mutation({query:({token:e,newPassword:t,confirmPassword:r})=>({url:"/reset-password",method:"POST",body:{token:e,newPassword:t,confirmPassword:r}})})})}),{useLoginMutation:l,useRegisterMutation:u,useLogoutMutation:p,useGetCurrentUserQuery:m,useRefreshTokenMutation:c,useChangePasswordMutation:y,useForgotPasswordMutation:h,useResetPasswordMutation:f,useVerifyOtpMutation:g}=d},83701:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"G:\\shishir vai\\EarnCoreCommunity\\client\\src\\components\\theme-provider.tsx","ThemeProvider")},84348:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>m,LA:()=>a,Nh:()=>n,gV:()=>u,lM:()=>p,ri:()=>i});var s=r(7148);let o=(0,r(76067).Z0)({name:"auth",initialState:{user:null,isAuthenticated:!1,isLoading:!1,error:null},reducers:{setCredentials:(e,t)=>{let{user:r,accessToken:o}=t.payload;e.user=r,e.isAuthenticated=!0,e.error=null,o&&(0,s.TV)("accessToken",o,7)},setUser:(e,t)=>{e.user=t.payload,e.isAuthenticated=!0},clearUser:e=>{e.user=null,e.isAuthenticated=!1},logout:e=>{e.user=null,e.isAuthenticated=!1,e.error=null,(0,s.Yj)("accessToken"),(0,s.Yj)("refreshToken")},setError:(e,t)=>{e.error=t.payload,e.isLoading=!1},clearError:e=>{e.error=null},setLoading:(e,t)=>{e.isLoading=t.payload}}}),{setCredentials:a,logout:i,setError:n,clearError:d,setLoading:l,setUser:u,clearUser:p}=o.actions,m=o.reducer},92118:(e,t,r)=>{"use strict";r.d(t,{I9:()=>i,dJ:()=>n,vx:()=>a});var s=r(20340),o=r(25698);let a=(0,s.xP)({reducerPath:"notificationsApi",baseQuery:(0,o.cw)({baseUrl:"http://localhost:8082/api/v1/",credentials:"include",prepareHeaders:e=>(e.set("content-type","application/json"),e)}),tagTypes:["Notifications"],endpoints:e=>({getNotifications:e.query({query:()=>({url:"notifications/getNotification",method:"GET"}),transformResponse:e=>Array.isArray(e)?e:e?.data&&Array.isArray(e.data)?e.data:[],providesTags:e=>e?[...e.map(e=>({type:"Notifications",id:e._id||e.title})),{type:"Notifications",id:"LIST"}]:[{type:"Notifications",id:"LIST"}]}),markAllRead:e.mutation({query:()=>({url:"notifications/markAllRead",method:"POST"}),transformResponse:e=>e?.data??e??{},invalidatesTags:[{type:"Notifications",id:"LIST"}]})})}),{useGetNotificationsQuery:i,useMarkAllReadMutation:n}=a},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>m});var s=r(37413),o=r(22376),a=r.n(o),i=r(68726),n=r.n(i);r(61135);var d=r(29519),l=r(21664),u=r(6931),p=r(83701);let m={title:"Earn Core Community",description:"Community for Earn Core"};function c({children:e}){return(0,s.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,s.jsx)("body",{className:`${a().variable} ${n().variable} antialiased`,children:(0,s.jsx)(p.ThemeProvider,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:(0,s.jsxs)(d.Providers,{children:[(0,s.jsx)(l.default,{children:e}),(0,s.jsx)(u.Toaster,{position:"top-right"})]})})})})}},96871:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>a});var s=r(60687);r(43210);var o=r(10218);function a({children:e,...t}){return(0,s.jsx)(o.N,{...t,children:e})}}};